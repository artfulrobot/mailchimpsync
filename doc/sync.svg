<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: A Pages: 1 -->
<svg width="1109pt" height="927pt"
 viewBox="0.00 0.00 1108.50 927.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 923)">
<title>A</title>
<polygon fill="#eeeeee" stroke="transparent" points="-4,4 -4,-923 1104.5,-923 1104.5,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<path fill="#ffee88" stroke="#444444" d="M269,-919C269,-919 207,-919 207,-919 201,-919 195,-913 195,-907 195,-907 195,-895 195,-895 195,-889 201,-883 207,-883 207,-883 269,-883 269,-883 275,-883 281,-889 281,-895 281,-895 281,-907 281,-907 281,-913 275,-919 269,-919"/>
<text text-anchor="middle" x="238" y="-897.3" font-family="Lato" font-size="14.00" fill="#000000">Start Fetch</text>
</g>
<!-- lockCheck -->
<g id="node2" class="node">
<title>lockCheck</title>
<polygon fill="#ffffff" stroke="#444444" points="381.5,-847 94.5,-847 94.5,-811 381.5,-811 381.5,-847"/>
<text text-anchor="middle" x="238" y="-825.3" font-family="Lato" font-size="14.00" fill="#000000">Check audience not locked and obtain lock</text>
</g>
<!-- start&#45;&gt;lockCheck -->
<g id="edge1" class="edge">
<title>start&#45;&gt;lockCheck</title>
<path fill="none" stroke="#000000" d="M238,-882.8314C238,-875.131 238,-865.9743 238,-857.4166"/>
<polygon fill="#000000" stroke="#000000" points="241.5001,-857.4132 238,-847.4133 234.5001,-857.4133 241.5001,-857.4132"/>
</g>
<!-- processFetchMailchimp -->
<g id="node3" class="node">
<title>processFetchMailchimp</title>
<polygon fill="#ffffff" stroke="#444444" points="436,-748.5 40,-748.5 40,-695.5 436,-695.5 436,-748.5"/>
<text text-anchor="middle" x="238" y="-733.3" font-family="Lato" font-size="14.00" fill="#000000">Fetch Mailchimp data for list</text>
<text text-anchor="middle" x="238" y="-718.3" font-family="Lato" font-size="14.00" fill="#000000">Update existing/create new cache rows based on email hash</text>
<text text-anchor="middle" x="238" y="-703.3" font-family="Lato" font-size="14.00" fill="#000000">Set sync_status: todo</text>
</g>
<!-- lockCheck&#45;&gt;processFetchMailchimp -->
<g id="edge2" class="edge">
<title>lockCheck&#45;&gt;processFetchMailchimp</title>
<path fill="none" stroke="#000000" d="M238,-810.8489C238,-796.7273 238,-776.6582 238,-759.1659"/>
<polygon fill="#000000" stroke="#000000" points="241.5001,-758.6837 238,-748.6837 234.5001,-758.6837 241.5001,-758.6837"/>
</g>
<!-- process2 -->
<g id="node4" class="node">
<title>process2</title>
<polygon fill="#ffffff" stroke="#444444" points="461,-633 15,-633 15,-580 461,-580 461,-633"/>
<text text-anchor="middle" x="238" y="-617.8" font-family="Lato" font-size="14.00" fill="#000000">check pre&#45;existing contact_ids</text>
<text text-anchor="middle" x="238" y="-602.8" font-family="Lato" font-size="14.00" fill="#000000">set them NULL if they belong to deleted contacts or no longer exist.</text>
<text text-anchor="middle" x="238" y="-587.8" font-family="Lato" font-size="14.00" fill="#000000">Set sync_status: todo</text>
</g>
<!-- processFetchMailchimp&#45;&gt;process2 -->
<g id="edge3" class="edge">
<title>processFetchMailchimp&#45;&gt;process2</title>
<path fill="none" stroke="#000000" d="M238,-695.2117C238,-679.7594 238,-660.1084 238,-643.2309"/>
<polygon fill="#000000" stroke="#000000" points="241.5001,-643.143 238,-633.1431 234.5001,-643.1431 241.5001,-643.143"/>
</g>
<!-- process3 -->
<g id="node5" class="node">
<title>process3</title>
<polygon fill="#ffffff" stroke="#444444" points="476,-532.5 0,-532.5 0,-449.5 476,-449.5 476,-532.5"/>
<text text-anchor="middle" x="238" y="-517.3" font-family="Lato" font-size="14.00" fill="#000000">populate missing contactID by email matching first of:</text>
<text text-anchor="middle" x="238" y="-502.3" font-family="Lato" font-size="14.00" fill="#000000">1. email owned by one unique not&#45;deleted contact</text>
<text text-anchor="middle" x="238" y="-487.3" font-family="Lato" font-size="14.00" fill="#000000">2. lowest contact ID of not&#45;deleted contact in the group</text>
<text text-anchor="middle" x="238" y="-472.3" font-family="Lato" font-size="14.00" fill="#000000">3. lowest contact ID of not&#45;deleted contact previously in group</text>
<text text-anchor="middle" x="238" y="-457.3" font-family="Lato" font-size="14.00" fill="#000000">4. lowest contact ID of not&#45;deleted contact who has never been in group</text>
</g>
<!-- process2&#45;&gt;process3 -->
<g id="edge4" class="edge">
<title>process2&#45;&gt;process3</title>
<path fill="none" stroke="#000000" d="M238,-579.7117C238,-568.6692 238,-555.4824 238,-542.6959"/>
<polygon fill="#000000" stroke="#000000" points="241.5001,-542.5757 238,-532.5758 234.5001,-542.5758 241.5001,-542.5757"/>
</g>
<!-- process4 -->
<g id="node6" class="node">
<title>process4</title>
<polygon fill="#ffffff" stroke="#444444" points="453.5,-401 22.5,-401 22.5,-365 453.5,-365 453.5,-401"/>
<text text-anchor="middle" x="238" y="-379.3" font-family="Lato" font-size="14.00" fill="#000000">create new CiviCRM contacts for any remaining mailchimp emails</text>
</g>
<!-- process3&#45;&gt;process4 -->
<g id="edge5" class="edge">
<title>process3&#45;&gt;process4</title>
<path fill="none" stroke="#000000" d="M238,-449.2444C238,-436.6494 238,-423.1163 238,-411.5859"/>
<polygon fill="#000000" stroke="#000000" points="241.5001,-411.2405 238,-401.2405 234.5001,-411.2406 241.5001,-411.2405"/>
</g>
<!-- process5 -->
<g id="node7" class="node">
<title>process5</title>
<polygon fill="#ffffff" stroke="#444444" points="435,-328 41,-328 41,-290 435,-290 435,-328"/>
<text text-anchor="middle" x="238" y="-312.8" font-family="Lato" font-size="14.00" fill="#000000">Add in subscribers at CiviCRM not found in Mailchimp data</text>
<text text-anchor="middle" x="238" y="-297.8" font-family="Lato" font-size="14.00" fill="#000000">Set sync_status:todo</text>
</g>
<!-- process4&#45;&gt;process5 -->
<g id="edge6" class="edge">
<title>process4&#45;&gt;process5</title>
<path fill="none" stroke="#000000" d="M238,-364.7079C238,-356.7096 238,-347.1287 238,-338.1859"/>
<polygon fill="#000000" stroke="#000000" points="241.5001,-338.1139 238,-328.114 234.5001,-338.114 241.5001,-338.1139"/>
</g>
<!-- process6 -->
<g id="node8" class="node">
<title>process6</title>
<polygon fill="#ffffff" stroke="#444444" points="416.5,-253 59.5,-253 59.5,-217 416.5,-217 416.5,-253"/>
<text text-anchor="middle" x="238" y="-231.3" font-family="Lato" font-size="14.00" fill="#000000">Now we have all *contacts* that need to be processed</text>
</g>
<!-- process5&#45;&gt;process6 -->
<g id="edge7" class="edge">
<title>process5&#45;&gt;process6</title>
<path fill="none" stroke="#000000" d="M238,-289.9432C238,-281.8174 238,-272.1682 238,-263.2408"/>
<polygon fill="#000000" stroke="#000000" points="241.5001,-263.2268 238,-253.2269 234.5001,-263.2269 241.5001,-263.2268"/>
</g>
<!-- process6b -->
<g id="node9" class="node">
<title>process6b</title>
<polygon fill="#ffffff" stroke="#444444" points="457.5,-180 18.5,-180 18.5,-144 457.5,-144 457.5,-180"/>
<text text-anchor="middle" x="238" y="-158.3" font-family="Lato" font-size="14.00" fill="#000000">Copy CiviCRM group subscription status and update date to cache</text>
</g>
<!-- process6&#45;&gt;process6b -->
<g id="edge8" class="edge">
<title>process6&#45;&gt;process6b</title>
<path fill="none" stroke="#000000" d="M238,-216.9551C238,-208.8828 238,-199.1764 238,-190.1817"/>
<polygon fill="#000000" stroke="#000000" points="241.5001,-190.0903 238,-180.0904 234.5001,-190.0904 241.5001,-190.0903"/>
</g>
<!-- process7 -->
<g id="node10" class="node">
<title>process7</title>
<polygon fill="#ffffff" stroke="#444444" points="314.5,-108 161.5,-108 161.5,-72 314.5,-72 314.5,-108"/>
<text text-anchor="middle" x="238" y="-86.3" font-family="Lato" font-size="14.00" fill="#000000">Release audience lock</text>
</g>
<!-- process6b&#45;&gt;process7 -->
<g id="edge9" class="edge">
<title>process6b&#45;&gt;process7</title>
<path fill="none" stroke="#000000" d="M238,-143.8314C238,-136.131 238,-126.9743 238,-118.4166"/>
<polygon fill="#000000" stroke="#000000" points="241.5001,-118.4132 238,-108.4133 234.5001,-118.4133 241.5001,-118.4132"/>
</g>
<!-- end1 -->
<g id="node11" class="node">
<title>end1</title>
<path fill="#ffee88" stroke="#444444" d="M265,-36C265,-36 211,-36 211,-36 205,-36 199,-30 199,-24 199,-24 199,-12 199,-12 199,-6 205,0 211,0 211,0 265,0 265,0 271,0 277,-6 277,-12 277,-12 277,-24 277,-24 277,-30 271,-36 265,-36"/>
<text text-anchor="middle" x="238" y="-14.3" font-family="Lato" font-size="14.00" fill="#000000">End fetch</text>
</g>
<!-- process7&#45;&gt;end1 -->
<g id="edge10" class="edge">
<title>process7&#45;&gt;end1</title>
<path fill="none" stroke="#000000" d="M238,-71.8314C238,-64.131 238,-54.9743 238,-46.4166"/>
<polygon fill="#000000" stroke="#000000" points="241.5001,-46.4132 238,-36.4133 234.5001,-46.4133 241.5001,-46.4132"/>
</g>
<!-- start2 -->
<g id="node12" class="node">
<title>start2</title>
<path fill="#ffee88" stroke="#444444" d="M588.5,-919C588.5,-919 473.5,-919 473.5,-919 467.5,-919 461.5,-913 461.5,-907 461.5,-907 461.5,-895 461.5,-895 461.5,-889 467.5,-883 473.5,-883 473.5,-883 588.5,-883 588.5,-883 594.5,-883 600.5,-889 600.5,-895 600.5,-895 600.5,-907 600.5,-907 600.5,-913 594.5,-919 588.5,-919"/>
<text text-anchor="middle" x="531" y="-897.3" font-family="Lato" font-size="14.00" fill="#000000">Start Reconciliation</text>
</g>
<!-- p8 -->
<g id="node13" class="node">
<title>p8</title>
<polygon fill="#ffffff" stroke="#444444" points="637,-847 425,-847 425,-811 637,-811 637,-847"/>
<text text-anchor="middle" x="531" y="-825.3" font-family="Lato" font-size="14.00" fill="#000000">Process each &#39;todo&#39; row in turn</text>
</g>
<!-- start2&#45;&gt;p8 -->
<g id="edge11" class="edge">
<title>start2&#45;&gt;p8</title>
<path fill="none" stroke="#000000" d="M531,-882.8314C531,-875.131 531,-865.9743 531,-857.4166"/>
<polygon fill="#000000" stroke="#000000" points="534.5001,-857.4132 531,-847.4133 527.5001,-857.4133 534.5001,-857.4132"/>
</g>
<!-- onlyCiviUpdates -->
<g id="node14" class="node">
<title>onlyCiviUpdates</title>
<polygon fill="#ffffff" stroke="#444444" points="531,-775 457,-722 531,-669 605,-722 531,-775"/>
<text text-anchor="middle" x="531" y="-733.3" font-family="Lato" font-size="14.00" fill="#000000">CiviCRM</text>
<text text-anchor="middle" x="531" y="-718.3" font-family="Lato" font-size="14.00" fill="#000000">updates</text>
<text text-anchor="middle" x="531" y="-703.3" font-family="Lato" font-size="14.00" fill="#000000">needed?</text>
</g>
<!-- p8&#45;&gt;onlyCiviUpdates -->
<g id="edge12" class="edge">
<title>p8&#45;&gt;onlyCiviUpdates</title>
<path fill="none" stroke="#000000" d="M531,-810.8489C531,-803.5803 531,-794.7361 531,-785.4787"/>
<polygon fill="#000000" stroke="#000000" points="534.5001,-785.3261 531,-775.3261 527.5001,-785.3262 534.5001,-785.3261"/>
</g>
<!-- p9 -->
<g id="node15" class="node">
<title>p9</title>
<polygon fill="#ffffff" stroke="#444444" points="719,-625.5 553,-625.5 553,-587.5 719,-587.5 719,-625.5"/>
<text text-anchor="middle" x="636" y="-610.3" font-family="Lato" font-size="14.00" fill="#000000">Make CiviCRM updates</text>
<text text-anchor="middle" x="636" y="-595.3" font-family="Lato" font-size="14.00" fill="#000000">Set sync_status:ok</text>
</g>
<!-- onlyCiviUpdates&#45;&gt;p9 -->
<g id="edge13" class="edge">
<title>onlyCiviUpdates&#45;&gt;p9</title>
<path fill="none" stroke="#000000" d="M560.2484,-689.8268C576.4141,-672.0444 596.2658,-650.2076 611.591,-633.3499"/>
<polygon fill="#000000" stroke="#000000" points="614.5777,-635.2676 618.7147,-625.5138 609.3981,-630.5589 614.5777,-635.2676"/>
<text text-anchor="middle" x="566.1871" y="-667.0289" font-family="Lato" font-size="14.00" fill="#000000">Yes</text>
</g>
<!-- mailchimpupdates1 -->
<g id="node16" class="node">
<title>mailchimpupdates1</title>
<polygon fill="#ffffff" stroke="#444444" points="613,-544 530,-491 613,-438 696,-491 613,-544"/>
<text text-anchor="middle" x="613" y="-502.3" font-family="Lato" font-size="14.00" fill="#000000">Mailchimp</text>
<text text-anchor="middle" x="613" y="-487.3" font-family="Lato" font-size="14.00" fill="#000000">updates</text>
<text text-anchor="middle" x="613" y="-472.3" font-family="Lato" font-size="14.00" fill="#000000">needed?</text>
</g>
<!-- onlyCiviUpdates&#45;&gt;mailchimpupdates1 -->
<g id="edge16" class="edge">
<title>onlyCiviUpdates&#45;&gt;mailchimpupdates1</title>
<path fill="none" stroke="#000000" d="M528.8277,-670.4524C529.3435,-642.7681 532.7453,-608.5597 544,-580 550.8948,-562.5038 562.3495,-545.5908 573.9641,-531.2928"/>
<polygon fill="#000000" stroke="#000000" points="576.649,-533.5381 580.4051,-523.6314 571.291,-529.0335 576.649,-533.5381"/>
<text text-anchor="middle" x="520.9046" y="-648.3887" font-family="Lato" font-size="14.00" fill="#000000">No</text>
</g>
<!-- p9&#45;&gt;mailchimpupdates1 -->
<g id="edge14" class="edge">
<title>p9&#45;&gt;mailchimpupdates1</title>
<path fill="none" stroke="#000000" d="M632.202,-587.4275C630.025,-576.4951 627.1665,-562.1403 624.3224,-547.8582"/>
<polygon fill="#000000" stroke="#000000" points="627.75,-547.149 622.3643,-538.0251 620.8848,-548.5161 627.75,-547.149"/>
</g>
<!-- p10 -->
<g id="node17" class="node">
<title>p10</title>
<polygon fill="#ffffff" stroke="#444444" points="719.5,-402 546.5,-402 546.5,-364 719.5,-364 719.5,-402"/>
<text text-anchor="middle" x="633" y="-386.8" font-family="Lato" font-size="14.00" fill="#000000">Store update</text>
<text text-anchor="middle" x="633" y="-371.8" font-family="Lato" font-size="14.00" fill="#000000">Set sync_status: pending</text>
</g>
<!-- mailchimpupdates1&#45;&gt;p10 -->
<g id="edge15" class="edge">
<title>mailchimpupdates1&#45;&gt;p10</title>
<path fill="none" stroke="#000000" d="M621.8305,-443.3153C623.8132,-432.6089 625.858,-421.5668 627.6475,-411.9036"/>
<polygon fill="#000000" stroke="#000000" points="631.0945,-412.5104 629.474,-402.0403 624.2116,-411.2357 631.0945,-412.5104"/>
<text text-anchor="middle" x="616.82" y="-420.253" font-family="Lato" font-size="14.00" fill="#000000">Yes</text>
</g>
<!-- loop1 -->
<g id="node18" class="node">
<title>loop1</title>
<polygon fill="#ffffff" stroke="#444444" points="697.5,-328 464.5,-328 464.5,-290 697.5,-290 697.5,-328"/>
<text text-anchor="middle" x="581" y="-312.8" font-family="Lato" font-size="14.00" fill="#000000">Repeat next row,</text>
<text text-anchor="middle" x="581" y="-297.8" font-family="Lato" font-size="14.00" fill="#000000">or stop and do another batch later</text>
</g>
<!-- mailchimpupdates1&#45;&gt;loop1 -->
<g id="edge18" class="edge">
<title>mailchimpupdates1&#45;&gt;loop1</title>
<path fill="none" stroke="#000000" d="M577.3901,-460.5041C561.8089,-444.8104 545.2271,-424.3036 537,-402 531.1551,-386.1547 531.4097,-379.9368 537,-364 540.5888,-353.7692 546.9696,-344.0276 553.778,-335.6637"/>
<polygon fill="#000000" stroke="#000000" points="556.4383,-337.9383 560.3595,-328.0958 551.1563,-333.3448 556.4383,-337.9383"/>
<text text-anchor="middle" x="558.7094" y="-449.6605" font-family="Lato" font-size="14.00" fill="#000000">No</text>
</g>
<!-- p10&#45;&gt;loop1 -->
<g id="edge17" class="edge">
<title>p10&#45;&gt;loop1</title>
<path fill="none" stroke="#000000" d="M619.6087,-363.9432C613.7708,-355.6354 606.8139,-345.7352 600.4241,-336.642"/>
<polygon fill="#000000" stroke="#000000" points="603.1398,-334.4191 594.5266,-328.2495 597.4125,-338.4437 603.1398,-334.4191"/>
</g>
<!-- batchTable -->
<g id="node25" class="node">
<title>batchTable</title>
<polygon fill="#ffffff" stroke="#444444" points="861.5,-327 720.5,-327 720.5,-291 861.5,-291 861.5,-327"/>
<text text-anchor="middle" x="791" y="-305.3" font-family="Lato" font-size="14.00" fill="#000000">Batch updates table</text>
</g>
<!-- p10&#45;&gt;batchTable -->
<g id="edge25" class="edge">
<title>p10:e&#45;&gt;batchTable:w</title>
<path fill="none" stroke="#000000" d="M720,-383C747.75,-383 705.2578,-330.3184 711.0571,-313.8553"/>
<polygon fill="#000000" stroke="#000000" points="712.8817,-316.8474 720,-309 709.5417,-310.6956 712.8817,-316.8474"/>
</g>
<!-- loop1&#45;&gt;p8 -->
<g id="edge19" class="edge">
<title>loop1:e&#45;&gt;p8:e</title>
<path fill="none" stroke="#000000" d="M697,-309C704.0702,-309 727.1587,-357.1738 729,-364 733.3984,-380.3061 729.0366,-385.1112 729,-402 728.5874,-592.625 827.4608,-820.5985 647.2337,-828.7736"/>
<polygon fill="#000000" stroke="#000000" points="646.9201,-825.2796 637,-829 647.075,-832.2779 646.9201,-825.2796"/>
</g>
<!-- end2 -->
<g id="node19" class="node">
<title>end2</title>
<path fill="#ffee88" stroke="#444444" d="M636,-36C636,-36 526,-36 526,-36 520,-36 514,-30 514,-24 514,-24 514,-12 514,-12 514,-6 520,0 526,0 526,0 636,0 636,0 642,0 648,-6 648,-12 648,-12 648,-24 648,-24 648,-30 642,-36 636,-36"/>
<text text-anchor="middle" x="581" y="-14.3" font-family="Lato" font-size="14.00" fill="#000000">End Reconciliation</text>
</g>
<!-- loop1&#45;&gt;end2 -->
<g id="edge20" class="edge">
<title>loop1&#45;&gt;end2</title>
<path fill="none" stroke="#000000" d="M581,-289.9067C581,-239.9116 581,-104.9778 581,-46.108"/>
<polygon fill="#000000" stroke="#000000" points="584.5001,-46.0385 581,-36.0385 577.5001,-46.0386 584.5001,-46.0385"/>
</g>
<!-- start3 -->
<g id="node20" class="node">
<title>start3</title>
<path fill="#ffee88" stroke="#444444" d="M900,-919C900,-919 784,-919 784,-919 778,-919 772,-913 772,-907 772,-907 772,-895 772,-895 772,-889 778,-883 784,-883 784,-883 900,-883 900,-883 906,-883 912,-889 912,-895 912,-895 912,-907 912,-907 912,-913 906,-919 900,-919"/>
<text text-anchor="middle" x="842" y="-897.3" font-family="Lato" font-size="14.00" fill="#000000">Start Batch updates</text>
</g>
<!-- p11 -->
<g id="node21" class="node">
<title>p11</title>
<polygon fill="#ffffff" stroke="#444444" points="958.5,-847 725.5,-847 725.5,-811 958.5,-811 958.5,-847"/>
<text text-anchor="middle" x="842" y="-825.3" font-family="Lato" font-size="14.00" fill="#000000">Take up to 1,000 items from batch</text>
</g>
<!-- start3&#45;&gt;p11 -->
<g id="edge21" class="edge">
<title>start3&#45;&gt;p11</title>
<path fill="none" stroke="#000000" d="M842,-882.8314C842,-875.131 842,-865.9743 842,-857.4166"/>
<polygon fill="#000000" stroke="#000000" points="845.5001,-857.4132 842,-847.4133 838.5001,-857.4133 845.5001,-857.4132"/>
</g>
<!-- p12 -->
<g id="node22" class="node">
<title>p12</title>
<polygon fill="#ffffff" stroke="#444444" points="1100.5,-625.5 819.5,-625.5 819.5,-587.5 1100.5,-587.5 1100.5,-625.5"/>
<text text-anchor="middle" x="960" y="-610.3" font-family="Lato" font-size="14.00" fill="#000000">Submit batch, create row in batches table,</text>
<text text-anchor="middle" x="960" y="-595.3" font-family="Lato" font-size="14.00" fill="#000000">store ID in updates table rows</text>
</g>
<!-- p11&#45;&gt;p12 -->
<g id="edge22" class="edge">
<title>p11&#45;&gt;p12</title>
<path fill="none" stroke="#000000" d="M851.6564,-810.7919C872.2544,-771.9524 920.6205,-680.7536 945.1599,-634.4823"/>
<polygon fill="#000000" stroke="#000000" points="948.2824,-636.0649 949.8756,-625.5905 942.0982,-632.7851 948.2824,-636.0649"/>
</g>
<!-- loop2 -->
<g id="node23" class="node">
<title>loop2</title>
<polygon fill="#ffffff" stroke="#444444" points="1076.5,-254 843.5,-254 843.5,-216 1076.5,-216 1076.5,-254"/>
<text text-anchor="middle" x="960" y="-238.8" font-family="Lato" font-size="14.00" fill="#000000">Repeat next batch,</text>
<text text-anchor="middle" x="960" y="-223.8" font-family="Lato" font-size="14.00" fill="#000000">or stop and do another batch later</text>
</g>
<!-- p12&#45;&gt;loop2 -->
<g id="edge23" class="edge">
<title>p12&#45;&gt;loop2</title>
<path fill="none" stroke="#000000" d="M960,-587.3088C960,-526.5392 960,-338.0376 960,-264.6572"/>
<polygon fill="#000000" stroke="#000000" points="963.5001,-264.2993 960,-254.2993 956.5001,-264.2994 963.5001,-264.2993"/>
</g>
<!-- end3 -->
<g id="node24" class="node">
<title>end3</title>
<path fill="#ffee88" stroke="#444444" d="M1015.5,-36C1015.5,-36 904.5,-36 904.5,-36 898.5,-36 892.5,-30 892.5,-24 892.5,-24 892.5,-12 892.5,-12 892.5,-6 898.5,0 904.5,0 904.5,0 1015.5,0 1015.5,0 1021.5,0 1027.5,-6 1027.5,-12 1027.5,-12 1027.5,-24 1027.5,-24 1027.5,-30 1021.5,-36 1015.5,-36"/>
<text text-anchor="middle" x="960" y="-14.3" font-family="Lato" font-size="14.00" fill="#000000">End Batch updates</text>
</g>
<!-- loop2&#45;&gt;end3 -->
<g id="edge24" class="edge">
<title>loop2&#45;&gt;end3</title>
<path fill="none" stroke="#000000" d="M960,-215.7427C960,-177.4125 960,-91.4051 960,-46.5083"/>
<polygon fill="#000000" stroke="#000000" points="963.5001,-46.2909 960,-36.291 956.5001,-46.291 963.5001,-46.2909"/>
</g>
<!-- batchTable&#45;&gt;p11 -->
<g id="edge26" class="edge">
<title>batchTable&#45;&gt;p11</title>
<path fill="none" stroke="#000000" d="M791,-327.0826C791,-359.7913 791,-430.9653 791,-491 791,-606.5 791,-606.5 791,-606.5 791,-678.2586 816.5144,-759.8193 831.4502,-801.4164"/>
<polygon fill="#000000" stroke="#000000" points="828.1839,-802.6757 834.9087,-810.8628 834.7572,-800.2691 828.1839,-802.6757"/>
</g>
</g>
</svg>
